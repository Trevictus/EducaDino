import{b as F,c as l,d as w,e as j,h as k,l as I,m as N,u as z,w as q}from"./chunk-H6FF5ZSZ.js";import{l as T}from"./chunk-PPSQSJV7.js";import{$a as b,J as O,Ja as y,Mb as E,O as h,Va as c,Wa as m,ab as n,bb as i,cb as d,e as M,ea as P,kb as S,mb as f,ub as u,wb as a,xa as s,xb as g}from"./chunk-5N3JP377.js";import{a as C,b as x}from"./chunk-2NFLSA4Y.js";var _={success:3e3,error:5e3,warning:4e3,info:3e3},v=class r{toastsSubject=new M([]);toasts$=this.toastsSubject.asObservable();toasts=P([]);hasToasts=E(()=>this.toasts().length>0);timeoutMap=new Map;constructor(){this.toasts$.subscribe(e=>this.toasts.set(e))}success(e,t,o){this.show({message:e,title:t,type:"success",duration:o??_.success})}error(e,t,o){this.show({message:e,title:t,type:"error",duration:o??_.error})}warning(e,t,o){this.show({message:e,title:t,type:"warning",duration:o??_.warning})}info(e,t,o){this.show({message:e,title:t,type:"info",duration:o??_.info})}show(e){let t=x(C({},e),{id:this.generateId()}),o=this.toastsSubject.getValue();if(this.toastsSubject.next([...o,t]),t.duration>0){let p=setTimeout(()=>{this.dismiss(t.id)},t.duration);this.timeoutMap.set(t.id,p)}console.log("[ToastService] Toast mostrado:",t)}dismiss(e){let t=this.timeoutMap.get(e);t&&(clearTimeout(t),this.timeoutMap.delete(e));let o=this.toastsSubject.getValue();this.toastsSubject.next(o.filter(p=>p.id!==e)),console.log("[ToastService] Toast cerrado:",e)}dismissAll(){this.timeoutMap.forEach(e=>clearTimeout(e)),this.timeoutMap.clear(),this.toastsSubject.next([])}generateId(){return`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}static \u0275fac=function(t){return new(t||r)};static \u0275prov=O({token:r,factory:r.\u0275fac,providedIn:"root"})};function A(r,e){if(r&1&&(n(0,"p",7),a(1),i()),r&2){let t=f();s(),g(t.getErrorMessage("nombre"))}}function G(r,e){if(r&1&&(n(0,"p",7),a(1),i()),r&2){let t=f();s(),g(t.getErrorMessage("email"))}}function V(r,e){if(r&1&&(n(0,"p",7),a(1),i()),r&2){let t=f();s(),g(t.getErrorMessage("asunto"))}}function $(r,e){if(r&1&&(n(0,"p",7),a(1),i()),r&2){let t=f();s(),g(t.getErrorMessage("mensaje"))}}function R(r,e){r&1&&(d(0,"span",17),a(1," Enviando... "))}function U(r,e){r&1&&a(0," Enviar Mensaje ")}var D=class r{fb=h(z);toastService=h(v);contactForm;isSubmitting=!1;ngOnInit(){this.initForm()}initForm(){this.contactForm=this.fb.group({nombre:["",[l.required,l.minLength(3),l.maxLength(50)]],email:["",[l.required,l.email]],asunto:["",[l.maxLength(100)]],mensaje:["",[l.required,l.minLength(10),l.maxLength(500)]]})}onSubmit(){if(this.contactForm.markAllAsTouched(),this.contactForm.invalid){this.toastService.warning("Por favor, corrige los errores del formulario");return}this.isSubmitting=!0,setTimeout(()=>{console.log("Formulario enviado:",this.contactForm.value),this.toastService.success("\xA1Mensaje enviado correctamente!","\xC9xito"),this.contactForm.reset(),this.isSubmitting=!1},1e3)}get f(){return this.contactForm.controls}hasError(e){let t=this.contactForm.get(e);return!!(t?.invalid&&(t?.dirty||t?.touched))}getErrorMessage(e){let t=this.contactForm.get(e);return t?.errors?t.errors.required?"Este campo es obligatorio":t.errors.email?"Introduce un email v\xE1lido":t.errors.minlength?`M\xEDnimo ${t.errors.minlength.requiredLength} caracteres`:t.errors.maxlength?`M\xE1ximo ${t.errors.maxlength.requiredLength} caracteres`:"Campo inv\xE1lido":""}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["app-contact-form"]],decls:39,vars:15,consts:[[1,"structured-form",3,"ngSubmit","formGroup"],[1,"structured-form__group"],[1,"structured-form__legend"],[1,"form-field"],["for","user-name",1,"form-field__label"],[1,"form-field__required"],["type","text","id","user-name","formControlName","nombre","placeholder","Ej: V\xEDctor G\xF3mez",1,"form-field__input"],[1,"form-field__error"],["for","user-email",1,"form-field__label"],["type","email","id","user-email","formControlName","email","placeholder","nombre@ejemplo.com",1,"form-field__input"],[1,"form-field__helper"],["for","subject",1,"form-field__label"],["type","text","id","subject","formControlName","asunto","placeholder","\xBFSobre qu\xE9 quieres hablar?",1,"form-field__input"],["for","message",1,"form-field__label"],["id","message","formControlName","mensaje","rows","5","placeholder","Escribe tu mensaje aqu\xED...",1,"form-field__textarea"],[1,"structured-form__actions"],["type","submit",1,"btn-submit",3,"disabled"],[1,"btn-submit__spinner"]],template:function(t,o){t&1&&(n(0,"form",0),S("ngSubmit",function(){return o.onSubmit()}),n(1,"fieldset",1)(2,"legend",2),a(3,"Informaci\xF3n de Usuario"),i(),n(4,"div",3)(5,"label",4),a(6," Nombre completo "),n(7,"span",5),a(8,"*"),i()(),d(9,"input",6),c(10,A,2,1,"p",7),i(),n(11,"div",3)(12,"label",8),a(13," Correo electr\xF3nico "),n(14,"span",5),a(15,"*"),i()(),d(16,"input",9),n(17,"p",10),a(18,"No compartiremos tu email."),i(),c(19,G,2,1,"p",7),i()(),n(20,"fieldset",1)(21,"legend",2),a(22,"Tu Mensaje"),i(),n(23,"div",3)(24,"label",11),a(25," Asunto "),i(),d(26,"input",12),c(27,V,2,1,"p",7),i(),n(28,"div",3)(29,"label",13),a(30," Mensaje "),n(31,"span",5),a(32,"*"),i()(),d(33,"textarea",14),c(34,$,2,1,"p",7),i()(),n(35,"div",15)(36,"button",16),c(37,R,2,0)(38,U,1,0),i()()()),t&2&&(b("formGroup",o.contactForm),s(4),u("form-field--error",o.hasError("nombre")),s(6),m(o.hasError("nombre")?10:-1),s(),u("form-field--error",o.hasError("email")),s(8),m(o.hasError("email")?19:-1),s(4),u("form-field--error",o.hasError("asunto")),s(4),m(o.hasError("asunto")?27:-1),s(),u("form-field--error",o.hasError("mensaje")),s(6),m(o.hasError("mensaje")?34:-1),s(2),b("disabled",o.contactForm.invalid||o.isSubmitting),s(),m(o.isSubmitting?37:38))},dependencies:[T,q,k,F,w,j,N,I],styles:['@charset "UTF-8";.structured-form[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto}.structured-form__group[_ngcontent-%COMP%]{border:none;padding:0;margin:0 0 var(--spacing-4) 0}.structured-form__legend[_ngcontent-%COMP%]{font-family:var(--font-secondary);font-size:var(--font-size-2xl);color:var(--secondary-color);margin-bottom:var(--spacing-3);padding:0 0 4px;border-bottom:2px solid var(--primary-color-disabled);width:100%}.structured-form__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.structured-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:var(--spacing-2);background-color:var(--secondary-color);color:var(--text-color-light);font-family:var(--font-secondary);font-size:var(--font-size-xl);padding:10px 32px;border:none;border-radius:var(--radius-form-button);cursor:pointer;box-shadow:var(--shadow-md);transition:transform var(--transition-fast),background-color var(--transition-fast)}.structured-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--secondary-color-hover);transform:scale(1.05)}.structured-form[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.structured-form[_ngcontent-%COMP%]   .btn-submit__spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid transparent;border-top-color:currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-1);margin-bottom:var(--spacing-3)}.form-field__label[_ngcontent-%COMP%]{font-family:var(--font-secondary);font-size:var(--font-size-xl);color:var(--text-color);margin-left:var(--spacing-2)}.form-field__required[_ngcontent-%COMP%]{color:var(--secondary-color);margin-left:4px}.form-field__input[_ngcontent-%COMP%], .form-field__textarea[_ngcontent-%COMP%]{width:100%;font-family:var(--font-primary);font-size:var(--font-size-xl);color:#3a4243;background-color:#f7f7f7;border:var(--border-thin) solid transparent;border-radius:var(--radius-form-field);padding:12px var(--spacing-3);box-shadow:var(--shadow-sm);outline:none;transition:all var(--transition-fast) var(--transition-ease)}.form-field__input[_ngcontent-%COMP%]::placeholder, .form-field__textarea[_ngcontent-%COMP%]::placeholder{color:var(--gray-scale-dark);opacity:.8}.form-field__input[_ngcontent-%COMP%]:focus, .form-field__textarea[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 3px var(--primary-color-disabled);background-color:#fff}.form-field__textarea[_ngcontent-%COMP%]{min-height:120px;resize:vertical;line-height:var(--line-height-normal)}.form-field__helper[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:var(--font-size-sm);color:var(--text-color);margin-left:var(--spacing-2);margin-top:4px}.form-field__error[_ngcontent-%COMP%]{font-family:var(--font-primary);font-size:var(--font-size-sm);color:var(--support-color);font-weight:var(--font-weight-bold);margin-left:var(--spacing-2);margin-top:4px}.form-field--error[_ngcontent-%COMP%]   .form-field__input[_ngcontent-%COMP%], .form-field--error[_ngcontent-%COMP%]   .form-field__textarea[_ngcontent-%COMP%]{border-color:var(--support-color);background-color:#fff5f5}.form-field--error[_ngcontent-%COMP%]   .form-field__input[_ngcontent-%COMP%]:focus, .form-field--error[_ngcontent-%COMP%]   .form-field__textarea[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px var(--support-color-disabled)}.form-field--error[_ngcontent-%COMP%]   .form-field__label[_ngcontent-%COMP%]{color:var(--support-color-active)}.form-field--pending[_ngcontent-%COMP%]   .form-field__input[_ngcontent-%COMP%], .form-field--pending[_ngcontent-%COMP%]   .form-field__textarea[_ngcontent-%COMP%]{border-color:var(--primary-color);background-color:#f0f7ff}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.theme-dark[_ngcontent-%COMP%]   .form-field__input[_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .form-field__textarea[_ngcontent-%COMP%]{color:#3a4243!important;background-color:#f7f7f7}.theme-dark[_ngcontent-%COMP%]   .form-field__input[_ngcontent-%COMP%]::placeholder, .theme-dark[_ngcontent-%COMP%]   .form-field__textarea[_ngcontent-%COMP%]::placeholder{color:var(--gray-scale-dark)}.theme-dark[_ngcontent-%COMP%]   .form-field__input[_ngcontent-%COMP%]:focus, .theme-dark[_ngcontent-%COMP%]   .form-field__textarea[_ngcontent-%COMP%]:focus{background-color:#fff}.theme-dark[_ngcontent-%COMP%]   .structured-form__legend[_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .form-field__required[_ngcontent-%COMP%], .theme-dark[_ngcontent-%COMP%]   .form-field__label[_ngcontent-%COMP%]{color:var(--secondary-color-active)}']})};export{v as a,D as b};
