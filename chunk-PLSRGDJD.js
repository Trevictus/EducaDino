import{b as p,c as l,e as b}from"./chunk-F3I73XKZ.js";import{J as u,O as d,i as h,u as s}from"./chunk-5N3JP377.js";var c={production:!1,apiUrl:"/api",appName:"EducaDino",appVersion:"1.0.0",enableLogging:!0,tokenKey:"auth_token",refreshTokenKey:"refresh_token",httpTimeout:3e4};var g=class a{http=d(b);baseUrl=c.apiUrl;get(e,t){return this.http.get(this.buildUrl(e),this.buildOptions(t)).pipe(s(this.handleError))}post(e,t,r){return this.http.post(this.buildUrl(e),t,this.buildOptions(r)).pipe(s(this.handleError))}put(e,t,r){return this.http.put(this.buildUrl(e),t,this.buildOptions(r)).pipe(s(this.handleError))}patch(e,t,r){return this.http.patch(this.buildUrl(e),t,this.buildOptions(r)).pipe(s(this.handleError))}delete(e,t){return this.http.delete(this.buildUrl(e),this.buildOptions(t)).pipe(s(this.handleError))}uploadFile(e,t,r="file",n){let i=new FormData;return i.append(r,t,t.name),n&&Object.entries(n).forEach(([o,m])=>{i.append(o,m)}),this.http.post(this.buildUrl(e),i,{}).pipe(s(this.handleError))}uploadMultipleFiles(e,t,r="files"){let n=new FormData;return t.forEach((i,o)=>{n.append(`${r}[${o}]`,i,i.name)}),this.http.post(this.buildUrl(e),n).pipe(s(this.handleError))}buildUrl(e){let t=e.startsWith("/")?e:`/${e}`;return`${this.baseUrl}${t}`}buildOptions(e){if(!e)return{};let t={};return e.params&&(t.params=this.buildParams(e.params)),e.headers&&(t.headers=e.headers instanceof p?e.headers:new p(e.headers)),e.context&&(t.context=e.context),e.reportProgress!==void 0&&(t.reportProgress=e.reportProgress),e.withCredentials!==void 0&&(t.withCredentials=e.withCredentials),t}buildParams(e){if(e instanceof l)return e;let t=new l;return Object.entries(e).forEach(([r,n])=>{n!=null&&(Array.isArray(n)?n.forEach(i=>{t=t.append(r,String(i))}):t=t.set(r,String(n)))}),t}handleError(e){return console.error("[ApiService] Error en petici\xF3n:",e),h(()=>e)}static \u0275fac=function(t){return new(t||a)};static \u0275prov=u({token:a,factory:a.\u0275fac,providedIn:"root"})};export{c as a,g as b};
