<section class="orders">
  <h1 class="orders__title">Órdenes</h1>

  <div class="orders__content">
    <!-- Menú desplegable -->
    <aside class="orders__menu">
      <!-- Órdenes principales -->
      <div class="menu-item" *ngFor="let order of orders">
        <!-- Orden principal -->
        <div class="menu-item__header" (click)="toggleOrder(order)">
          <span class="menu-item__name" (click)="selectOrder($event, order)">{{ order.name }}</span>
          <span class="menu-item__arrow material-icons" [class.expanded]="order.expanded">
            arrow_drop_up
          </span>
        </div>

        <!-- Subórdenes -->
        <div class="menu-item__suborders" *ngIf="order.expanded">
          <div class="submenu-item" *ngFor="let suborder of order.suborders">
            <div class="submenu-item__header" (click)="toggleSuborder($event, suborder)">
              <span class="submenu-item__name" (click)="selectSuborder($event, suborder)">{{ suborder.name }}</span>
              <span class="submenu-item__arrow material-icons" [class.expanded]="suborder.expanded">
                arrow_drop_up
              </span>
            </div>

            <!-- Tipos de dinosaurios (familias) -->
            <div class="submenu-item__types" *ngIf="suborder.expanded">
              <div class="type-item" *ngFor="let type of suborder.types">
                <div class="type-item__header" (click)="toggleType($event, type)">
                  <span class="type-item__name" (click)="selectType($event, type)">{{ type.name }}</span>
                  <span class="type-item__arrow material-icons" [class.expanded]="type.expanded">
                    arrow_drop_up
                  </span>
                </div>

                <!-- Especies de dinosaurios -->
                <div class="type-item__dinosaurs" *ngIf="type.expanded">
                  <div
                    class="dinosaur-item"
                    *ngFor="let dinosaur of type.dinosaurs"
                    (click)="selectDinosaur($event, dinosaur)">
                    {{ dinosaur.name }}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </aside>

    <!-- Imagen central -->
    <div class="orders__image-container">
      <img
        *ngIf="selectedItem.image"
        [src]="selectedItem.image"
        [alt]="selectedItem.title"
        class="orders__image">
      <div *ngIf="!selectedItem.image" class="orders__image-placeholder">
        <!-- Espacio para imagen -->
      </div>
    </div>

    <!-- Panel de información -->
    <article class="orders__info">
      <header class="orders__info-header">
        <h2 class="orders__info-title">{{ selectedItem.title }}</h2>
        <span
          class="orders__icon material-icons"
          [class.is-liked]="isLiked"
          (click)="toggleLike()">
          favorite
        </span>
      </header>
      <p class="orders__info-description">{{ selectedItem.description }}</p>
    </article>
  </div>
</section>

