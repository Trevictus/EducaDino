<header class="header">
  <div class="l-container header__container">

    <!-- Logo Desktop (imagen) y Logo Landscape (texto) -->
    <a routerLink="/home" class="header__logo header__logo--image">
      <img src="assets/images/logotipo-EducaDino400px.avif" alt="EducaDino Logo">
    </a>

    <a routerLink="/home" class="header__logo header__logo--text">
      Inicio
    </a>

    <!-- Navegación Desktop -->
    <nav class="header__nav">
      <ul class="header__menu">
        <li>
          <button class="header__search" aria-label="Buscar en el sitio" type="button">
            <span class="material-icons">search</span>
            <input
              #searchInput
              type="text"
              placeholder="Buscar"
              (keyup.enter)="onSearch(searchInput.value)">
          </button>
        </li>
        <li><a routerLink="/minijuegos" class="header__link">Minijuegos</a></li>
        <li><a routerLink="/curiosidades" class="header__link">Curiosidades</a></li>
        <li><a routerLink="/ordenes" class="header__link">Órdenes</a></li>
        <li><a routerLink="/contacto" class="header__link">Contacto</a></li>
        <li><a routerLink="/style-guide" class="header__link">Guia de estilo</a></li>
        <li>
          <button
            class="header__more-menu"
            aria-label="Más opciones"
            type="button"
            (click)="toggleMoreMenu()"
            [class.is-active]="isMoreMenuOpen">
            <span class="material-icons">more_vert</span>
          </button>
          <ul class="header__more-menu-items" [class.is-open]="isMoreMenuOpen">
            <li><a routerLink="/home" class="header__more-link" (click)="closeMoreMenu()">Inicio</a></li>
            <li><a routerLink="/style-guide" class="header__more-link" (click)="closeMoreMenu()">Guia de estilo</a></li>
          </ul>
        </li>
      </ul>
    </nav>

    <!-- Botón Hamburguesa (solo móvil) -->
    <button
      class="header__hamburger"
      [class.is-active]="isMenuOpen"
      (click)="toggleMenu()"
      aria-label="Abrir menú de navegación"
      [attr.aria-expanded]="isMenuOpen">
      <span class="header__hamburger-line"></span>
      <span class="header__hamburger-line"></span>
      <span class="header__hamburger-line"></span>
    </button>

    <!-- Theme Toggle (Modo oscuro/claro) -->
    <app-theme-toggle></app-theme-toggle>

    <!-- Perfil Desktop -->
    <a routerLink="/perfil" class="header__profile">
      <div class="header__star">
        <span>Perfil</span>
      </div>
    </a>

  </div>

  <!-- Menú Móvil -->
  <nav
    class="header__mobile-nav"
    [class.is-open]="isMenuOpen"
    [attr.aria-hidden]="!isMenuOpen">

    <ul class="header__mobile-menu">
      <li>
        <a routerLink="/minijuegos" class="header__mobile-link" (click)="closeMenu()">
          <span class="material-icons" aria-hidden="true">sports_esports</span>
          Minijuegos
        </a>
      </li>
      <li>
        <a routerLink="/curiosidades" class="header__mobile-link" (click)="closeMenu()">
          <span class="material-icons" aria-hidden="true">lightbulb</span>
          Curiosidades
        </a>
      </li>
      <li>
        <a routerLink="/ordenes" class="header__mobile-link" (click)="closeMenu()">
          <span class="material-icons" aria-hidden="true">category</span>
          Órdenes
        </a>
      </li>
      <li>
        <a routerLink="/contacto" class="header__mobile-link" (click)="closeMenu()">
          <span class="material-icons" aria-hidden="true">mail</span>
          Contacto
        </a>
      </li>
      <li>
        <a routerLink="/perfil" class="header__mobile-link" (click)="closeMenu()">
          <span class="material-icons" aria-hidden="true">person</span>
          Mi Perfil
        </a>
      </li>
    </ul>

  </nav>

  <!-- Overlay para cerrar el menú -->
  @if (isMenuOpen) {
    <div class="header__overlay" (click)="closeMenu()"></div>
  }

</header>
