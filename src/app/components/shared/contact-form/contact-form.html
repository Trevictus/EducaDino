<form
  class="structured-form"
  [formGroup]="contactForm"
  (ngSubmit)="onSubmit()">

  <fieldset class="structured-form__group">

    <legend class="structured-form__legend">Información de Usuario</legend>

    <!-- Campo Nombre -->
    <div class="form-field" [class.form-field--error]="hasError('nombre')">
      <label for="user-name" class="form-field__label">
        Nombre completo
        <span class="form-field__required">*</span>
      </label>
      <input
        type="text"
        id="user-name"
        formControlName="nombre"
        class="form-field__input"
        placeholder="Ej: Víctor Gómez">
      @if (hasError('nombre')) {
        <p class="form-field__error">{{ getErrorMessage('nombre') }}</p>
      }
    </div>

    <!-- Campo Email -->
    <div class="form-field" [class.form-field--error]="hasError('email')">
      <label for="user-email" class="form-field__label">
        Correo electrónico
        <span class="form-field__required">*</span>
      </label>
      <input
        type="email"
        id="user-email"
        formControlName="email"
        class="form-field__input"
        placeholder="nombre@ejemplo.com">
      <p class="form-field__helper">No compartiremos tu email.</p>
      @if (hasError('email')) {
        <p class="form-field__error">{{ getErrorMessage('email') }}</p>
      }
    </div>

  </fieldset>

  <fieldset class="structured-form__group">
    <legend class="structured-form__legend">Tu Mensaje</legend>

    <!-- Campo Asunto -->
    <div class="form-field" [class.form-field--error]="hasError('asunto')">
      <label for="subject" class="form-field__label">
        Asunto
      </label>
      <input
        type="text"
        id="subject"
        formControlName="asunto"
        class="form-field__input"
        placeholder="¿Sobre qué quieres hablar?">
      @if (hasError('asunto')) {
        <p class="form-field__error">{{ getErrorMessage('asunto') }}</p>
      }
    </div>

    <!-- Campo Mensaje (Textarea) -->
    <div class="form-field" [class.form-field--error]="hasError('mensaje')">
      <label for="message" class="form-field__label">
        Mensaje
        <span class="form-field__required">*</span>
      </label>
      <textarea
        id="message"
        formControlName="mensaje"
        class="form-field__textarea"
        rows="5"
        placeholder="Escribe tu mensaje aquí..."></textarea>
      @if (hasError('mensaje')) {
        <p class="form-field__error">{{ getErrorMessage('mensaje') }}</p>
      }
    </div>

  </fieldset>

  <div class="structured-form__actions">
    <button
      type="submit"
      class="btn-submit"
      [disabled]="contactForm.invalid || isSubmitting">
      @if (isSubmitting) {
        <span class="btn-submit__spinner"></span>
        Enviando...
      } @else {
        Enviar Mensaje
      }
    </button>
  </div>

</form>
