<main class="style-guide">
  <div class="l-container">

    <!-- HEADER -->
    <header class="style-guide__header">
      <h1 class="style-guide__title">ü¶ï EducaDino Style Guide</h1>
      <p class="style-guide__subtitle">Documentaci√≥n visual de todos los componentes UI</p>
    </header>

    <!-- ========================================================================
         SECCI√ìN: BOTONES
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Botones</h2>
      <p class="style-guide__section-desc">
        Componente <code>&lt;app-button&gt;</code> con variantes, tama√±os y estados.
      </p>

      <!-- Variantes -->
      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Variantes</h3>
        <div class="style-guide__row">
          <app-button variant="primary" (clicked)="onButtonClick('primary')">Primary</app-button>
          <app-button variant="secondary" (clicked)="onButtonClick('secondary')">Secondary</app-button>
          <app-button variant="ghost" (clicked)="onButtonClick('ghost')">Ghost</app-button>
          <app-button variant="danger" (clicked)="onButtonClick('danger')">Danger</app-button>
        </div>
      </div>

      <!-- Tama√±os -->
      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Tama√±os</h3>
        <div class="style-guide__row style-guide__row--align-center">
          <app-button variant="primary" size="sm">Small</app-button>
          <app-button variant="primary" size="md">Medium</app-button>
          <app-button variant="primary" size="lg">Large</app-button>
        </div>
      </div>

      <!-- Con iconos -->
      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Con iconos</h3>
        <div class="style-guide__row">
          <app-button variant="primary" icon="favorite" iconPosition="left">Me gusta</app-button>
          <app-button variant="secondary" icon="send" iconPosition="right">Enviar</app-button>
          <app-button variant="primary" icon="search" ariaLabel="Buscar"></app-button>
          <app-button variant="danger" icon="delete" ariaLabel="Eliminar"></app-button>
        </div>
      </div>

      <!-- Estados -->
      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Estados</h3>
        <div class="style-guide__row">
          <app-button variant="primary">Normal</app-button>
          <app-button variant="primary" [disabled]="true">Disabled</app-button>
          <app-button variant="secondary" [disabled]="true">Disabled</app-button>
          <app-button variant="ghost" [disabled]="true">Disabled</app-button>
          <app-button variant="danger" [disabled]="true">Disabled</app-button>
        </div>
        <p class="style-guide__note">
          <em>Nota: Los estados :hover, :focus y :active se muestran al interactuar.</em>
        </p>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: CARDS
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Cards</h2>
      <p class="style-guide__section-desc">
        Componente <code>&lt;app-card&gt;</code> para mostrar contenido de dinosaurios.
      </p>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Card b√°sica</h3>
        <div class="style-guide__card-grid">
          <app-card
            category="Curiosidad"
            title="Tyrannosaurus Rex"
            description="El T-Rex pod√≠a ejercer una fuerza de mordida de hasta 6 toneladas, suficiente para triturar huesos."
            image="/img/t-rex.png">
          </app-card>

          <app-card
            category="Dato"
            title="Velociraptor"
            description="Contrario a lo mostrado en pel√≠culas, el Velociraptor real era del tama√±o de un pavo."
            image="/img/velocirraptor.png">
          </app-card>
        </div>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: FORMULARIOS
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Formularios</h2>
      <p class="style-guide__section-desc">
        Componentes de formulario: input, textarea y select.
      </p>

      <!-- Input -->
      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Input <code>&lt;app-form-input&gt;</code></h3>
        <div class="style-guide__form-grid">
          <app-form-input
            label="Nombre"
            placeholder="Escribe tu nombre"
            helperText="Tu nombre completo">
          </app-form-input>

          <app-form-input
            label="Email"
            type="email"
            placeholder="tu@email.com"
            [required]="true">
          </app-form-input>

          <app-form-input
            label="Con error"
            placeholder="Campo con error"
            errorText="Este campo es obligatorio">
          </app-form-input>

          <app-form-input
            label="Deshabilitado"
            placeholder="No editable"
            [disabled]="true">
          </app-form-input>
        </div>
      </div>

      <!-- Textarea -->
      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Textarea <code>&lt;app-form-textarea&gt;</code></h3>
        <div class="style-guide__form-grid">
          <app-form-textarea
            label="Mensaje"
            placeholder="Escribe tu mensaje..."
            helperText="M√°ximo 500 caracteres">
          </app-form-textarea>

          <app-form-textarea
            label="Con error"
            placeholder="Campo con error"
            errorText="El mensaje es demasiado corto">
          </app-form-textarea>
        </div>
      </div>

      <!-- Select -->
      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Select <code>&lt;app-form-select&gt;</code></h3>
        <div class="style-guide__form-grid">
          <app-form-select
            label="Dinosaurio favorito"
            [options]="selectOptions"
            helperText="Elige tu dinosaurio preferido">
          </app-form-select>

          <app-form-select
            label="Con error"
            [options]="selectOptions"
            errorText="Debes seleccionar una opci√≥n">
          </app-form-select>

          <app-form-select
            label="Deshabilitado"
            [options]="selectOptions"
            [disabled]="true">
          </app-form-select>
        </div>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: ALERTAS
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Alertas</h2>
      <p class="style-guide__section-desc">
        Componente <code>&lt;app-alert&gt;</code> para mensajes de feedback.
      </p>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Tipos de alerta</h3>
        <div class="style-guide__alerts">
          <app-alert type="success" title="¬°√âxito!">
            Tu progreso ha sido guardado correctamente.
          </app-alert>

          <app-alert type="error" title="Error">
            No se pudo conectar con el servidor. Int√©ntalo de nuevo.
          </app-alert>

          <app-alert type="warning" title="Advertencia">
            Tu sesi√≥n expirar√° en 5 minutos.
          </app-alert>

          <app-alert type="info" title="Informaci√≥n">
            Hay nuevas curiosidades disponibles sobre dinosaurios.
          </app-alert>
        </div>
      </div>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Alertas cerrables</h3>
        <div class="style-guide__alerts">
          <app-alert type="success" [dismissible]="true">
            Alerta cerrable sin t√≠tulo.
          </app-alert>

          <app-alert type="info" title="Nota" [dismissible]="true">
            Puedes cerrar esta alerta con el bot√≥n X.
          </app-alert>
        </div>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: MODAL
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Modal</h2>
      <p class="style-guide__section-desc">
        Componente <code>&lt;app-modal&gt;</code> para di√°logos superpuestos.
      </p>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Demostraci√≥n</h3>
        <div class="style-guide__row">
          <app-button variant="primary" (clicked)="openModal()">Abrir Modal</app-button>
        </div>

        <app-modal
          [isOpen]="isModalOpen"
          title="Modal de ejemplo"
          size="md"
          (closed)="closeModal()">
          <p>Este es el contenido del modal. Puedes incluir cualquier contenido aqu√≠: texto, formularios, im√°genes, etc.</p>
          <p>Cierra el modal con el bot√≥n X, haciendo clic fuera o presionando ESC.</p>

          <div modal-footer>
            <app-button variant="ghost" (clicked)="closeModal()">Cancelar</app-button>
            <app-button variant="primary" (clicked)="closeModal()">Aceptar</app-button>
          </div>
        </app-modal>
      </div>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Tama√±os disponibles</h3>
        <p class="style-guide__note">
          <code>size="sm"</code> (400px) | <code>size="md"</code> (600px) | <code>size="lg"</code> (900px)
        </p>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: COLORES
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Paleta de Colores</h2>
      <p class="style-guide__section-desc">
        Variables CSS disponibles para mantener la coherencia del tema jur√°sico.
      </p>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Colores principales</h3>
        <div class="style-guide__colors">
          <div class="style-guide__color style-guide__color--primary">
            <span class="style-guide__color-name">Primary</span>
            <code>--primary-color</code>
          </div>
          <div class="style-guide__color style-guide__color--secondary">
            <span class="style-guide__color-name">Secondary</span>
            <code>--secondary-color</code>
          </div>
          <div class="style-guide__color style-guide__color--support">
            <span class="style-guide__color-name">Support</span>
            <code>--support-color</code>
          </div>
          <div class="style-guide__color style-guide__color--background">
            <span class="style-guide__color-name">Background</span>
            <code>--background-color</code>
          </div>
        </div>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: TIPOGRAF√çA
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Tipograf√≠a</h2>
      <p class="style-guide__section-desc">
        Fuentes y tama√±os usados en la aplicaci√≥n.
      </p>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Fuentes</h3>
        <p class="style-guide__font style-guide__font--primary">
          <strong>Baloo 2</strong> (--font-primary) - Para textos y p√°rrafos
        </p>
        <p class="style-guide__font style-guide__font--secondary">
          <strong>Fredoka One</strong> (--font-secondary) - Para t√≠tulos y botones
        </p>
      </div>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Escala de tama√±os</h3>
        <div class="style-guide__type-scale">
          <p class="style-guide__type style-guide__type--5xl">48px - Encabezados principales</p>
          <p class="style-guide__type style-guide__type--4xl">36px - T√≠tulos grandes</p>
          <p class="style-guide__type style-guide__type--3xl">24px - Subt√≠tulos</p>
          <p class="style-guide__type style-guide__type--2xl">20px - Destacados</p>
          <p class="style-guide__type style-guide__type--xl">16px - Texto base</p>
          <p class="style-guide__type style-guide__type--lg">14px - Texto secundario</p>
          <p class="style-guide__type style-guide__type--sm">12px - Letra peque√±a</p>
        </div>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: THEME SWITCHER (FASE 1)
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Theme Switcher</h2>
      <p class="style-guide__section-desc">
        Componente <code>&lt;app-theme-toggle&gt;</code> para alternar entre modo claro y oscuro.
      </p>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Bot√≥n de cambio de tema</h3>
        <div class="style-guide__row">
          <app-theme-toggle></app-theme-toggle>
          <p class="style-guide__note" style="margin-left: 16px;">
            Haz clic para alternar entre modo claro y oscuro. La preferencia se guarda en localStorage.
          </p>
        </div>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: TABS (FASE 1)
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Tabs (Pesta√±as)</h2>
      <p class="style-guide__section-desc">
        Componente <code>&lt;app-tabs&gt;</code> para organizar contenido en pesta√±as.
      </p>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Pesta√±as con iconos</h3>
        <app-tabs [tabs]="demoTabs" [activeTabId]="activeTabId" (tabChange)="onTabChange($event)">
          <div class="tab-panel" [hidden]="activeTabId !== 'info'" role="tabpanel" id="tabpanel-info">
            <p>üìö <strong>Informaci√≥n:</strong> Contenido de la pesta√±a de informaci√≥n sobre dinosaurios.</p>
          </div>
          <div class="tab-panel" [hidden]="activeTabId !== 'gallery'" role="tabpanel" id="tabpanel-gallery">
            <p>üñºÔ∏è <strong>Galer√≠a:</strong> Aqu√≠ ir√≠an las im√°genes de dinosaurios.</p>
          </div>
          <div class="tab-panel" [hidden]="activeTabId !== 'settings'" role="tabpanel" id="tabpanel-settings">
            <p>‚öôÔ∏è <strong>Configuraci√≥n:</strong> Panel de configuraci√≥n del usuario.</p>
          </div>
        </app-tabs>
        <p class="style-guide__note">
          Navega con las teclas ‚Üê ‚Üí o Tab para accesibilidad.
        </p>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: TOOLTIPS (FASE 1)
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Tooltips</h2>
      <p class="style-guide__section-desc">
        Componente <code>&lt;app-tooltip&gt;</code> para mostrar informaci√≥n contextual.
      </p>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Posiciones</h3>
        <div class="style-guide__row" style="gap: 32px; padding: 24px;">
          <app-tooltip text="Tooltip arriba" position="top">
            <app-button variant="primary" size="sm">Top</app-button>
          </app-tooltip>

          <app-tooltip text="Tooltip abajo" position="bottom">
            <app-button variant="primary" size="sm">Bottom</app-button>
          </app-tooltip>

          <app-tooltip text="Tooltip izquierda" position="left">
            <app-button variant="primary" size="sm">Left</app-button>
          </app-tooltip>

          <app-tooltip text="Tooltip derecha" position="right">
            <app-button variant="primary" size="sm">Right</app-button>
          </app-tooltip>
        </div>
        <p class="style-guide__note">
          Los tooltips aparecen con <code>(mouseenter)</code> y se ocultan con <code>(mouseleave)</code>.
          Tambi√©n funcionan con <code>(focus)</code> para accesibilidad.
        </p>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: DOM DEMO (FASE 1)
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Manipulaci√≥n del DOM</h2>
      <p class="style-guide__section-desc">
        Demostraci√≥n de manipulaci√≥n segura del DOM usando <code>Renderer2</code>, <code>&#64;ViewChild</code> y <code>ElementRef</code>.
      </p>

      <div class="style-guide__subsection">
        <app-dom-demo></app-dom-demo>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: TOASTS (FASE 2)
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Toasts (Notificaciones)</h2>
      <p class="style-guide__section-desc">
        Sistema de notificaciones globales usando <code>ToastService</code>.
      </p>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Tipos de Toast</h3>
        <div class="style-guide__row">
          <app-button variant="secondary" (clicked)="showSuccessToast()">
            <span class="material-icons">check_circle</span>
            Success
          </app-button>
          <app-button variant="danger" (clicked)="showErrorToast()">
            <span class="material-icons">error</span>
            Error
          </app-button>
          <app-button variant="ghost" (clicked)="showWarningToast()">
            <span class="material-icons">warning</span>
            Warning
          </app-button>
          <app-button variant="primary" (clicked)="showInfoToast()">
            <span class="material-icons">info</span>
            Info
          </app-button>
        </div>
        <p class="style-guide__note">
          Los toasts aparecen arriba a la derecha y se cierran autom√°ticamente.
          Puedes cerrarlos manualmente con el bot√≥n X.
        </p>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: LOADING (FASE 2)
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Loading States</h2>
      <p class="style-guide__section-desc">
        Sistema de estados de carga usando <code>LoadingService</code>.
      </p>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Loading Global</h3>
        <div class="style-guide__row">
          <app-button variant="primary" (clicked)="simulateLoading()">
            <span class="material-icons">sync</span>
            Simular Loading (2s)
          </app-button>
        </div>
        <p class="style-guide__note">
          El overlay de loading usa un contador de peticiones.
          Solo se oculta cuando TODAS las peticiones terminan.
        </p>
      </div>

      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Loading Local (Bot√≥n)</h3>
        <div class="style-guide__row">
          <app-button
            variant="secondary"
            [disabled]="isSaving()"
            (clicked)="simulateSave()">
            @if (isSaving()) {
              <span class="material-icons" style="animation: spin 1s linear infinite;">sync</span>
              Guardando...
            } @else {
              <span class="material-icons">save</span>
              Guardar
            }
          </app-button>
        </div>
        <p class="style-guide__note">
          Usa <code>signal()</code> para estados de carga locales en botones.
        </p>
      </div>
    </section>

    <!-- ========================================================================
         SECCI√ìN: FORMULARIOS AVANZADOS (FASE 3)
         ======================================================================== -->
    <section class="style-guide__section">
      <h2 class="style-guide__section-title">Formularios Avanzados (Fase 3)</h2>
      <p class="style-guide__section-desc">
        Formularios con <code>ReactiveFormsModule</code>, validadores personalizados y <code>FormArray</code>.
      </p>

      <!-- Selector de formulario -->
      <div class="style-guide__subsection">
        <h3 class="style-guide__subsection-title">Selecciona un formulario</h3>
        <div class="style-guide__row">
          <app-button
            [variant]="activeFormTab === 'contact' ? 'primary' : 'ghost'"
            (clicked)="activeFormTab = 'contact'">
            Contacto
          </app-button>
          <app-button
            [variant]="activeFormTab === 'register' ? 'primary' : 'ghost'"
            (clicked)="activeFormTab = 'register'">
            Registro
          </app-button>
          <app-button
            [variant]="activeFormTab === 'order' ? 'primary' : 'ghost'"
            (clicked)="activeFormTab = 'order'">
            Pedido (FormArray)
          </app-button>
        </div>
      </div>

      <!-- Formulario de Contacto -->
      @if (activeFormTab === 'contact') {
        <div class="style-guide__subsection">
          <h3 class="style-guide__subsection-title">ContactForm <code>Reactive Forms b√°sico</code></h3>
          <p class="style-guide__note">
            Validadores: <code>required</code>, <code>email</code>, <code>minLength(10)</code>
          </p>
          <app-contact-form></app-contact-form>
        </div>
      }

      <!-- Formulario de Registro -->
      @if (activeFormTab === 'register') {
        <div class="style-guide__subsection">
          <h3 class="style-guide__subsection-title">RegisterForm <code>Validadores avanzados</code></h3>
          <p class="style-guide__note">
            Incluye: <code>passwordStrength()</code>, <code>nifValidator()</code>, <code>matchPasswords()</code>,
            validadores as√≠ncronos con estado <code>pending</code>
          </p>
          <app-register-form></app-register-form>
        </div>
      }

      <!-- Formulario de Pedido -->
      @if (activeFormTab === 'order') {
        <div class="style-guide__subsection">
          <h3 class="style-guide__subsection-title">OrderForm <code>FormArray din√°mico</code></h3>
          <p class="style-guide__note">
            Usa <code>FormArray</code> para a√±adir/eliminar items din√°micamente.
            C√°lculo de precio total reactivo.
          </p>
          <app-order-form></app-order-form>
        </div>
      }
    </section>

  </div>
</main>
